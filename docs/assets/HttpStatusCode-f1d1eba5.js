import{createRouter as a}from"radix3";import{onCleanup as p}from"solid-js";import{isServer as u,getRequestEvent as l}from"solid-js/web";const c=[{$component:{src:"src/routes/[...404].tsx?pick=default&pick=$css",build:()=>import("../_...404_.js"),import:()=>import("../_...404_.js")},path:"/*404",filePath:"/home/ivanjoz/projects/curriculum/src/routes/[...404].tsx"},{$component:{src:"src/routes/about.tsx?pick=default&pick=$css",build:()=>import("../about.js"),import:()=>import("../about.js")},path:"/about",filePath:"/home/ivanjoz/projects/curriculum/src/routes/about.tsx"},{$component:{src:"src/routes/index.tsx?pick=default&pick=$css",build:()=>import("../index.js"),import:()=>import("../index.js")},path:"/",filePath:"/home/ivanjoz/projects/curriculum/src/routes/index.tsx"}],P=h(c.filter(t=>t.$component));function h(t){function r(e,s,n,d){const o=Object.values(e).find(i=>n.startsWith(i.id+"/"));return o?(r(o.children||(o.children=[]),s,n.slice(o.id.length)),e):(e.push({...s,id:n,path:n.replace(/\/\([^)/]+\)/g,"")}),e)}return t.sort((e,s)=>e.path.length-s.path.length).reduce((e,s)=>r(e,s,s.path,s.path),[])}function g(t,r){const e=m.lookup(t);if(e){const s=e.route[`$${r}`];return s===void 0?void 0:{handler:s,params:e.params}}}function f(t){return t.$GET||t.$POST||t.$PUT||t.$PATCH||t.$DELETE}const m=a({routes:c.reduce((t,r)=>{if(!f(r))return t;let e=r.path.replace(/\(.*\)\/?/g,"").replace(/\*([^/]*)/g,(s,n)=>`**:${n}`);if(/:[^/]*\?/g.test(e))throw new Error(`Optional parameters are not supported in API routes: ${e}`);if(t[e])throw new Error(`Duplicate API routes for "${e}" found at "${t[e].route.path}" and "${r.path}"`);return t[e]={route:r},t},{})});function E(t){if(u){const r=l();r.response.status=t.code,r.response.statusText=t.text,p(()=>!r.nativeEvent.handled&&(r.response.status=200))}return null}export{E as H,g as m,P as p};
